<!DOCTYPE html>  
<html lang="en">  
<head>  
    <link rel="manifest" href="./manifest.json">  
    <meta name="theme-color" content="#8b7cc8">  
    <link rel="apple-touch-icon" href="./icons/icon-192.png">  
    <meta charset="UTF-8">  
    <meta name="viewport" content="width=device-width, initial-scale=1.0">  <!-- Fonts -->  
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">  
<!-- Notebook page fonts -->  
<link href="https://fonts.googleapis.com/css2?family=Gaegu:wght@300;400;700&display=swap" rel="stylesheet">  
<link href="https://fonts.googleapis.com/css2?family=Cedarville+Cursive&display=swap" rel="stylesheet">  
<link href="https://fonts.googleapis.com/css2?family=Cabin+Sketch:wght@400;700&display=swap" rel="stylesheet">  

<!-- Flatpickr CSS for Periodical records -->  
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">  

<title>ATTENZA - for Dispur College</title>  

<style>  
    * {  
        margin: 0;  
        padding: 0;  
        box-sizing: border-box;  
    }  

    body {  
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;  
        background: #f5f3ef;  
        min-height: 100vh;  
        overflow-x: hidden;  
        padding-bottom: 100px; /* space so bottom AI card does not overlap content */  
    }  

    .header {  
        background: #ffffff;  
        padding: 23px 16px 6px;  
        border-bottom: 1px solid #e0e0e0;  
        border-bottom-left-radius: 20px;  
        border-bottom-right-radius: 20px;  
        transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);  
    }  

    .header.expanded {  
        padding-bottom: 30px;  
    }  

    .top-bar {  
        display: flex;  
        justify-content: space-between;  
        align-items: center;  
        max-width: 1200px;  
        margin: 0 auto;  
    }  

    .left-section {  
        display: flex;  
        align-items: center;  
        gap: 16px;  
    }  

    /* HEADER ICON BUTTONS (menu + notification) - BORDER ONLY STYLE */  
    .icon-btn {  
        width: 44px;  
        height: 44px;  
        background: transparent;  
        border: 2.5px solid #444444;  
        border-radius: 16px;  
        display: flex;  
        justify-content: center;  
        align-items: center;  
        cursor: pointer;  
        padding: 0;  
        position: relative;  
        transition: background-color 0.2s ease, border-color 0.2s ease;  
    }  

    .icon-btn:hover {  
        background-color: #f5f5f5;  
        border-color: #333333;  
    }  

    /* MENU ICON (3-level variant) */  
    .menu-mini {  
        width: 20px;  
        height: 16px;  
        position: relative;  
    }  

    .menu-mini::before,  
    .menu-mini::after,  
    .menu-mini span {  
        content: "";  
        position: absolute;  
        left: 0;  
        height: 2.5px;  
        background: #444444;  
        border-radius: 4px;  
    }  

    .menu-mini::before {  
        top: 0;  
        width: 20px;  
    }  

    .menu-mini span {  
        top: 50%;  
        transform: translateY(-50%);  
        width: 14px;  
    }  

    .menu-mini::after {  
        bottom: 0;  
        width: 9px;  
    }  

    /* NOTIFICATION ICON (border-only bell + green dot) */  
    .notif-rev svg {  
        width: 27px;  
        height: 27px;  
        color: #444444;  
    }  

    .notif-dot {  
        position: absolute;  
        top: 4px;  
        right: 4px;  
        width: 7px;  
        height: 7px;  
        background-color: rgb(0, 255, 0);  
        border-radius: 25px;  
        display: flex;  
        align-items: center;  
        justify-content: center;  
    }  

    .notif-dot::before {  
        content: "";  
        position: absolute;  
        width: 2px;  
        height: 2px;  
        background-color: rgb(0, 255, 0);  
        border-radius: 35px;  
        animation: notifPulse 1s infinite;  
    }  

    @keyframes notifPulse {  
        0% {  
            background-color: rgb(0, 255, 0);  
            width: 2px;  
            height: 2px;  
        }  
        100% {  
            background-color: rgba(0, 255, 0, 0);  
            width: 26px;  
            height: 26px;  
        }  
    }  

    .brand-container {  
        display: flex;  
        flex-direction: column;  
        gap: 2px;  
    }  

    .brand-name {  
        font-size: 18px;  
        font-weight: 700;  
        color: #2d3436;  
        letter-spacing: 0.5px;  
        line-height: 1;  
    }  

    .tagline {  
        font-size: 11px;  
        font-weight: 300;  
        color: #7f8c8d;  
        line-height: 1;  
    }  

    .expand-section {  
        max-width: 1200px;  
        margin: 0 auto;  
    }  

    .expand-arrow {  
        display: flex;  
        justify-content: center;  
        margin-top: 2px;  
        cursor: pointer;  
        transition: all 0.3s ease;  
    }  

    .expand-arrow svg {  
        width: 24px;  
        height: 24px;  
        stroke: #95a5a6;  
        transition: all 0.3s ease;  
    }  

    .expand-arrow:hover svg {  
        stroke: #2d3436;  
    }  

    .expand-arrow.rotated svg {  
        transform: rotate(180deg);  
    }  

    .expanded-content {  
        max-height: 0;  
        overflow: hidden;  
        transition: max-height 0.4s cubic-bezier(0.4, 0, 0.2, 1);  
        color: #2d3436;  
    }  

    .expanded-content.show {  
        max-height: 600px;  
    }  

    .content-inner {  
        padding: 30px 20px 10px;  
    }  

    .info-section {  
        margin-bottom: 25px;  
    }  

    .info-section h3 {  
        font-size: 18px;  
        margin-bottom: 10px;  
        color: #2d3436;  
        font-weight: 600;  
    }  

    .info-section p {  
        font-size: 14px;  
        line-height: 1.7;  
        color: #5a6c7d;  
        font-weight: 400;  
    }  

    .features {  
        display: grid;  
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));  
        gap: 20px;  
        margin-top: 15px;  
    }  

    .feature-card {  
        background: #f8f9fa;  
        padding: 20px;  
        border-radius: 12px;  
        border: 1px solid #e9ecef;  
        transition: all 0.3s ease;  
    }  

    .feature-card:hover {  
        transform: translateY(-3px);  
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);  
    }  

    .feature-card h4 {  
        font-size: 15px;  
        margin-bottom: 8px;  
        color: #2d3436;  
        font-weight: 600;  
    }  

    .feature-card p {  
        font-size: 13px;  
        color: #5a6c7d;  
        font-weight: 400;  
        line-height: 1.5;  
    }  

    .content-body {  
        max-width: 1200px;  
        margin: 0 auto;  
        padding: 16px 16px;  
    }  

    .sketch-line-container {  
        width: 100%;  
        display: flex;  
        justify-content: center;  
        margin-top: 10px;  
    }  

    .sketch-line {  
        font-family: "Cabin Sketch", system-ui, sans-serif;  
        font-size: 20px;  
        letter-spacing: 0.6px;  
        color: #333;  
        display: flex;  
        align-items: center;  
        gap: 6px;  
        background: transparent;  
    }  

    .sketch-heart {  
        width: 22px;  
        height: 22px;  
        stroke: #e63946;  
        stroke-width: 6;  
        fill: none;  
        stroke-linecap: round;  
        stroke-linejoin: round;  
        filter: drop-shadow(0 0 0.7px rgba(0,0,0,0.25));  
        transform: translateY(1px);  
    }  

    /* HERO / WELCOME AREA â€“ illustration as background on right */  
    .welcome-section {  
        margin: 4px -16px 28px;  
        padding: 16px 16px 20px;  
        background-color: #f5f3ef;  
        background-image: url("Image/Illustration.png"); /* change path as needed */  
        background-repeat: no-repeat;  
        background-position: right bottom;  
        background-size: auto 300px;  
    }  

    .welcome-content {  
        max-width: 1200px;  
        margin: 0 auto;  
        display: flex;  
        align-items: center;  
        gap: 20px;  
    }  

    .welcome-text-content {  
        max-width: 60%;  
    }  

    .welcome-text-content h3 {  
        font-size: 24px;  
        font-weight: 600;  
        color: #2d3436;  
        margin-bottom: 6px;  
    }  

    .welcome-text-content p {  
        font-size: 15px;  
        color: #6b6b6b;  
        line-height: 1.6;  
    }  

    .attendance-ring {  
        position: relative;  
        width: 140px;  
        height: 140px;  
        margin-top: 14px;  
        margin-left: 15px;  
    }  

    .ring-svg {  
        width: 100%;  
        height: 100%;  
        transform: rotate(-90deg);  
    }  

    .ring-bg-circle {  
        fill: none;  
        stroke: #e8e5df;  
        stroke-width: 18;  
    }  

    .ring-progress-circle {  
        fill: none;  
        stroke: #F4C542;  
        stroke-width: 18;  
        stroke-linecap: round;  
        transition: stroke-dashoffset 0.5s ease;  
    }  

    .ring-center {  
        position: absolute;  
        top: 50%;  
        left: 50%;  
        transform: translate(-50%, -50%);  
        text-align: center;  
    }  

    .percentage {  
        font-size: 32px;  
        font-weight: 700;  
        color: #2d3436;  
        display: block;  
    }  

    .percentage-label {  
        font-size: 12px;  
        color: #8e8e93;  
        font-weight: 500;  
    }  

    .fade-text {  
        opacity: 0;  
        transition: opacity 0.35s ease;  
    }  

    .section-header {  
        display: flex;  
        justify-content: space-between;  
        align-items: center;  
        margin-bottom: 20px;  
    }  

    .section-header h3 {  
        font-size: 20px;  
        font-weight: 600;  
        color: #2d3436;  
    }  

    .view-all {  
        font-size: 14px;  
        color: #8e8e93;  
        text-decoration: none;  
        display: flex;  
        align-items: center;  
        gap: 6px;  
        font-weight: 500;  
        transition: color 0.3s ease;  
    }  

    .view-all:hover {  
        color: #2d3436;  
    }  

    .carousel-container {  
        position: relative;  
        margin-bottom: 40px;  
    }  

    .carousel {  
        display: flex;  
        gap: 16px;  
        overflow-x: auto;  
        scroll-snap-type: x mandatory;  
        scrollbar-width: none;  
        padding-bottom: 12px;  
        scroll-behavior: smooth;  
    }  

    .carousel::-webkit-scrollbar {  
        display: none;  
    }  

    .class-card {  
        min-width: 340px;  
        background: white;  
        border-radius: 20px;  
        padding: 24px;  
        scroll-snap-align: start;  
        border: 1.5px solid #e0e0e0;  
        transition: all 0.3s ease;  
    }  

    .class-card:hover {  
        box-shadow: 0 6px 20px rgba(0, 0, 0, 0.08);  
        transform: translateY(-2px);  
    }  

    .class-header {  
        display: flex;  
        justify-content: space-between;  
        align-items: center;  
        margin-bottom: 16px;  
    }  

    .class-subject {  
        font-size: 18px;  
        font-weight: 600;  
        color: #2d3436;  
    }  

    .class-time {  
        font-size: 14px;  
        color: #8e8e93;  
        font-weight: 500;  
    }  

    .class-details {  
        font-size: 14px;  
        color: #6b6b6b;  
        margin-bottom: 18px;  
    }  

    .class-details div {  
        margin-bottom: 8px;  
    }  

    .attendance-actions {  
        display: grid;  
        grid-template-columns: repeat(3, 1fr);  
        gap: 10px;  
    }  

    .attendance-btn {  
        padding: 11px 16px;  
        border-radius: 12px;  
        border: none;  
        font-size: 13px;  
        font-weight: 600;  
        cursor: pointer;  
        transition: all 0.3s ease;  
    }  

    .attendance-btn:hover {  
        transform: translateY(-2px);  
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.12);  
    }  

    .btn-attend {  
        background: #c8e6c9;  
        color: #2e7d32;  
    }  

    .btn-attend:hover {  
        background: #a5d6a7;  
    }  

    .btn-skip {  
        background: #ffccbc;  
        color: #d84315;  
    }  

    .btn-skip:hover {  
        background: #ffab91;  
    }  

    .btn-not-held {  
        background: #e0e0e0;  
        color: #424242;  
    }  

    .btn-not-held:hover {  
        background: #d5d5d5;  
    }  

    /* ORIGINAL SUBJECT SECTION STYLES (no longer used in HTML but kept untouched) */  
    .subject-grid {  
        display: grid;  
        grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));  
        gap: 16px;  
    }  

    .subject-card {  
        background: white;  
        border-radius: 20px;  
        padding: 24px;  
        position: relative;  
        overflow: hidden;  
        cursor: pointer;  
        transition: all 0.3s ease;  
        border: 1.5px solid #e0e0e0;  
        min-height: 140px;  
        display: flex;  
        flex-direction: column;  
        justify-content: space-between;  
    }  

    .subject-card:hover {  
        transform: translateY(-4px);  
        box-shadow: 0 8px 24px rgba(0, 0, 0, 0.12);  
    }  

    .subject-card.dark-blue {  
        background: linear-gradient(135deg, #2d3561 0%, #1f2745 100%);  
        border: none;  
    }  

    .subject-card.purple {  
        background: linear-gradient(135deg, #b39ddb 0%, #9575cd 100%);  
        border: none;  
    }  

    .subject-card.mint {  
        background: linear-gradient(135deg, #a8ddc4 0%, #7cc9a5 100%);  
        border: none;  
    }  

    .subject-card.peach {  
        background: linear-gradient(135deg, #ffccbc 0%, #ffab91 100%);  
        border: none;  
    }  

    .subject-icon {  
        width: 36px;  
        height: 36px;  
        background: rgba(255, 255, 255, 0.2);  
        border-radius: 10px;  
        display: flex;  
        align-items: center;  
        justify-content: center;  
        margin-bottom: 14px;  
    }  

    .subject-card.dark-blue .subject-icon {  
        color: white;  
    }  

    .subject-card.purple .subject-icon,  
    .subject-card.mint .subject-icon,  
    .subject-card.peach .subject-icon {  
        color: rgba(0, 0, 0, 0.6);  
    }  

    .subject-name {  
        font-size: 16px;  
        font-weight: 600;  
        margin-bottom: 6px;  
    }  

    .subject-card.dark-blue .subject-name {  
        color: white;  
    }  

    .subject-card.purple .subject-name,  
    .subject-card.mint .subject-name,  
    .subject-card.peach .subject-name {  
        color: rgba(0, 0, 0, 0.85);  
    }  

    .subject-percentage {  
        font-size: 28px;  
        font-weight: 700;  
    }  

    .subject-card.dark-blue .subject-percentage {  
        color: white;  
    }  

    .subject-card.purple .subject-percentage,  
    .subject-card.mint .subject-percentage,  
    .subject-card.peach .subject-percentage {  
        color: rgba(0, 0, 0, 0.85);  
    }  

    .arrow-icon {  
        position: absolute;  
        bottom: 20px;  
        right: 20px;  
        width: 32px;  
        height: 32px;  
        background: rgba(255, 255, 255, 0.3);  
        border-radius: 8px;  
        display: flex;  
        align-items: center;  
        justify-content: center;  
    }  

    .subject-card.dark-blue .arrow-icon {  
        color: white;  
    }  

    .subject-card.purple .arrow-icon,  
    .subject-card.mint .arrow-icon,  
    .subject-card.peach .arrow-icon {  
        color: rgba(0, 0, 0, 0.6);  
    }  

    .install-strip {  
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);  
        margin: 0 -20px 35px -20px;  
        padding: 16px 20px;  
        display: flex;  
        align-items: center;  
        justify-content: center;  
        transition: all 0.3s ease;  
    }  

    .install-strip.hidden {  
        display: none;  
    }  

    .install-content {  
        max-width: 1200px;  
        width: 100%;  
        display: flex;  
        align-items: center;  
        justify-content: space-between;  
    }  

    .install-text {  
        color: white;  
        font-size: 15px;  
        font-weight: 500;  
        letter-spacing: 0.3px;  
        cursor: pointer;  
        flex: 1;  
    }  

    .close-strip {  
        background: rgba(255, 255, 255, 0.2);  
        border: none;  
        width: 32px;  
        height: 32px;  
        border-radius: 8px;  
        display: flex;  
        align-items: center;  
        justify-content: center;  
        cursor: pointer;  
        transition: all 0.3s ease;  
        flex-shrink: 0;  
    }  

    .close-strip:hover {  
        background: rgba(255, 255, 255, 0.3);  
    }  

    .close-strip svg {  
        color: white;  
    }  

    /* NOTEBOOK PAGE SECTION (full-width card with 20px side space) */  
    .notebook-section {  
        margin: 0 -16px 32px;  
        padding: 0 20px;  
    }  

    .page {  
        position: relative;  
        width: 100%;  
        font-family: "Gaegu", cursive;  
        font-size: 16px;  
        background: #fffdf6;  
        background-image: linear-gradient(  
                #f5f5f0 var(--line-light, 0.85rem),  
                #ccc var(--line-dark, 0.95rem)  
        );  
        background-size: 100% var(--line-gap, 0.95rem);  
        padding: 0.7rem 0.7rem 0.8rem 5.5rem;  
        border: 1px solid rgba(0, 0, 0, 0.08);  
        border-radius: 0;  
        overflow: hidden;  
        line-height: 1.05rem;  
    }  

    .page::before,  
    .page::after {  
        position: absolute;  
        content: "";  
        bottom: 4px;  
        width: 45%;  
        height: 7px;  
        box-shadow: 0 3px 8px rgba(0, 0, 0, 0.22);  
        z-index: -1;  
        transition: 0.3s ease;  
    }  

    .page::before {  
        left: 18px;  
        transform: skew(-3deg) rotate(-2deg);  
    }  

    .page::after {  
        right: 18px;  
        transform: skew(3deg) rotate(2deg);  
    }  

    .margin {  
        position: absolute;  
        border-left: 1px solid #d88;  
        height: 100%;  
        left: 4.3rem;  
        top: 0;  
    }  

    .page p {  
        margin: 0;  
        text-indent: 0.4rem;  
        padding-bottom: 0.4rem;  
        color: #111;  
        line-height: 1.05rem;  
    }  

    .note-logo {  
        position: absolute;  
        left: 0;  
        top: 50%;  
        transform: translateY(-50%);  
        width: 75px;  
        height: 75px;  
        object-fit: contain;  
        pointer-events: none;  
    }  

    .teacher-mark {  
        position: absolute;  
        bottom: 0.4rem;  
        right: 1rem;  
        display: flex;  
        flex-direction: column;  
        align-items: flex-end;  
        transform: rotate(-12deg);  
    }  

    .teacher-sign {  
        font-family: "Cedarville Cursive", cursive;  
        font-size: 20px;  
        color: #b71c1c;  
        letter-spacing: 1px;  
        transform: rotate(4deg);  
    }  

    /* MOBILE ADJUSTMENTS */  
    @media (max-width: 768px) {  
        .brand-name {  
            font-size: 16px;  
        }  

        .tagline {  
            font-size: 11px;  
        }  

        .features {  
            grid-template-columns: 1fr;  
        }  

        .welcome-section {  
            background-size: auto 275px;  
        }  

        .attendance-ring {  
            width: 120px;  
            height: 120px;  
        }  

        .percentage {  
            font-size: 28px;  
        }  

        .class-card {  
            min-width: 280px;  
        }  

        .subject-grid {  
            grid-template-columns: 1fr;  
        }  
    }  

    /* ---------- AI BOARD (BOTTOM SHEET) ---------- */  

    .ai-board-overlay {  
        position: fixed;  
        inset: 0;  
        z-index: 900;  
        display: flex;  
        justify-content: center;  
        align-items: flex-end;  
        pointer-events: none;  
    }  

    .ai-board {  
        pointer-events: auto;  
        width: min(600px, 100%);  
        height: 80vh;  
        margin: 0 auto;  
        border-radius: 24px 24px 0 0;  
        padding: 20px 20px 16px;  

        background: rgba(255, 255, 255, 0.2);  
        border: 1px solid rgba(255, 255, 255, 0.5);  
        box-shadow: 0 24px 40px rgba(15, 23, 42, 0.25);  

        backdrop-filter: blur(24px) saturate(140%);  
        -webkit-backdrop-filter: blur(24px) saturate(140%);  

        display: flex;  
        flex-direction: column;  
        transform: translateY(100%);  
        opacity: 0;  
        transition: transform 0.28s ease-out, opacity 0.28s ease-out;  
    }  

    .ai-board.visible {  
        transform: translateY(0);  
        opacity: 1;  
    }  

    .ai-board-header {  
        display: flex;  
        align-items: center;  
        justify-content: space-between;  
        margin-bottom: 16px;  
    }  

    .ai-title {  
        margin: 0;  
        font-size: 24px;  
        font-weight: 700;  
        letter-spacing: 0.02em;  
        background: linear-gradient(120deg, #8b5cf6, #fda4af);  
        -webkit-background-clip: text;  
        background-clip: text;  
        color: transparent;  
    }  

    .ai-close-btn {  
        border: none;  
        outline: none;  
        background: rgba(255, 255, 255, 0.85);  
        border-radius: 999px;  
        width: 32px;  
        height: 32px;  
        font-size: 20px;  
        font-weight: 500;  
        line-height: 1;  
        display: flex;  
        align-items: center;  
        justify-content: center;  
        cursor: pointer;  
        box-shadow: 0 4px 10px rgba(15, 23, 42, 0.2);  
        transition: transform 0.12s ease, background 0.12s ease, box-shadow 0.12s ease;  
    }  

    .ai-close-btn:hover {  
        background: rgba(255, 255, 255, 0.95);  
        transform: translateY(-1px);  
    }  

    .ai-close-btn:active {  
        transform: translateY(0);  
        box-shadow: 0 2px 6px rgba(15, 23, 42, 0.25);  
    }  

    .ai-board-body {  
        flex: 1;  
        display: flex;  
        flex-direction: column;  
        gap: 16px;  
        font-size: 14px;  
        overflow-y: auto;  
    }  

    .ai-user-card-wrapper {  
        display: flex;  
        justify-content: flex-end;  
    }  

    .ai-user-card {  
        max-width: 80%;  
        padding: 12px 16px;  
        border-radius: 18px;  
        border: 1px solid rgba(255, 255, 255, 0.85);  
        background: rgba(255, 255, 255, 0.96);  
        box-shadow: 0 8px 18px rgba(15, 23, 42, 0.12);  
        line-height: 1.4;  
    }  

    .ai-status-row {  
        display: flex;  
        align-items: center;  
        gap: 8px;  
        font-size: 13px;  
        color: #1f2933;  
    }  

    .ai-status-text {  
        font-weight: 500;  
        letter-spacing: 0.02em;  
    }  

    .ai-response {  
        font-size: 14px;  
        line-height: 1.5;  
        color: #020617;  
        padding-top: 10px;  
        white-space: pre-wrap;  
    }  

    .ai-copy-btn {  
        margin-top: 6px;  
        align-self: flex-start;  
        display: inline-flex;  
        align-items: center;  
        gap: 6px;  

        padding: 6px 10px;  
        border-radius: 999px;  
        border: 1px solid rgba(148, 163, 184, 0.6);  
        background: rgba(255, 255, 255, 0.9);  
        font-size: 12px;  
        color: #0f172a;  
        cursor: pointer;  
        transition: background 0.12s ease, box-shadow 0.12s ease, transform 0.12s ease;  
    }  

    .ai-copy-btn:hover {  
        background: #ffffff;  
        box-shadow: 0 4px 10px rgba(15, 23, 42, 0.18);  
        transform: translateY(-1px);  
    }  

    .ai-copy-btn:active {  
        transform: translateY(0);  
        box-shadow: 0 2px 5px rgba(15, 23, 42, 0.25);  
    }  

    /* BOARD LOADER */  

    .ai-status-loader {  
        transform: rotate(80deg);  
        max-width: 30px;  
        max-height: 30px;  
    }  

    .ai-status-loader .stripe {  
        display: inline-block;  
        width: 3px;  
        height: 14px;  
        animation: aiStatusLoaderAnim 1.2s ease-in-out infinite;  
    }  

    .ai-status-loader .stripe:nth-child(1) {  
        background-color: #8b5cf6;  
        animation-delay: 0.15s;  
        margin-bottom: -5px;  
    }  

    .ai-status-loader .stripe:nth-child(2) {  
        background-color: #fda4af;  
        animation-delay: 0.3s;  
        margin-bottom: 5px;  
    }  

    .ai-status-loader .stripe:nth-child(3) {  
        background-color: #c4b5fd;  
        animation-delay: 0.45s;  
        margin-bottom: -7px;  
    }  

    .ai-status-loader .stripe:nth-child(4) {  
        background-color: #f9a8d4;  
        animation-delay: 0.6s;  
        margin-bottom: 7px;  
    }  

    @keyframes aiStatusLoaderAnim {  
        20% { transform: scale(1, 2.2); }  
        40% { transform: scale(1); }  
    }  

    /* ---------- FIXED AI CARD CONTAINER ---------- */  

    .ai-card-container {  
        position: fixed;  
        bottom: 16px;  
        left: 0;  
        right: 0;  
        width: 100%;  
        display: flex;  
        justify-content: center;  
        padding: 0 17px;  
        z-index: 1000;  
        pointer-events: none;  
    }  

    .ai-card-container .see-more-btn {  
        pointer-events: auto;  
    }  

    /* ---------- AI CARD ---------- */  

    .see-more-btn {  
        position: relative;  
        background-color: #262626;  
        height: 4.5rem;  
        width: 100%;  
        max-width: 540px;  
        text-align: left;  
        padding: 0.75rem;  
        color: #f9fafb;  
        font-size: 1rem;  
        font-weight: 700;  
        border-radius: 0.8rem;  
        overflow: hidden;  
        cursor: pointer;  
        transition: all 0.5s ease;  
        transform-origin: left;  
        background-clip: padding-box;  
        text-decoration: none;  

        display: flex;  
        align-items: center;  
        gap: -2rem;  
    }  

    .see-more-btn::before,  
    .see-more-btn::after {  
        content: "";  
        position: absolute;  
        border-radius: 9999px;  
        filter: blur(16px);  
        z-index: 10;  
        transition: all 0.5s ease;  
        pointer-events: none;  
    }  

    .see-more-btn::before {  
        width: 3rem;  
        height: 3rem;  
        right: 0.25rem;  
        top: 0.25rem;  
        background-color: #8b5cf6;  
    }  

    .see-more-btn::after {  
        width: 5rem;  
        height: 5rem;  
        right: 2rem;  
        top: 0.75rem;  
        background-color: #fda4af;  
    }  

    .see-more-btn:hover {  
        border-color: #fecdd3;  
        text-decoration: none;  
        color: #f9fafb;  
    }  

    .see-more-btn:hover::before {  
        right: 3rem;  
        bottom: -2rem;  
        top: auto;  
        filter: blur(8px);  
        box-shadow: 20px 20px 20px 30px #a21caf;  
    }  

    .see-more-btn:hover::after {  
        right: -2rem;  
    }  

    .divider {  
        width: 2px;  
        height: 18px;  
        background: rgba(255,255,255,0.7);  
        border-radius: 4px;  
        margin-left: 1rem;  
        margin-right: 0.5rem;  
    }  

    .prompt-area {  
        position: relative;  
        z-index: 20;  
        flex: 1;  
        display: flex;  
        align-items: center;  
        overflow: hidden;  
    }  

    .prompt-display {  
        flex: 1;  
        position: relative;  
        display: flex;  
        align-items: center;  
    }  

    .typewriter-text {  
        font-family: "Courier New", Courier, monospace;  
        font-size: 1.05rem;  
        letter-spacing: -1px;  
        white-space: nowrap;  
        overflow: hidden;  
        border-right: 2px solid #f9fafb;  
        padding-right: 2px;  
        box-sizing: border-box;  
        animation: blink-caret 0.8s step-end infinite;  
    }  

    @keyframes blink-caret {  
        from, to { border-color: transparent; }  
        50% { border-color: #f9fafb; }  
    }  

    .prompt-input {  
        display: none;  
        letter-spacing: 0;  
        width: 100%;  
        background: transparent;  
        border: none;  
        outline: none;  
        font-family: "Poppins", system-ui, sans-serif;  
        font-size: 1rem;  
        color: #f9fafb;  
    }  

    .prompt-input::placeholder {  
        color: #9ca3af;  
    }  

    .send-btn {  
        display: none;  
        margin-left: 0.5rem;  
        width: 2rem;  
        height: 2rem;  
        border-radius: 9999px;  
        border: 1px solid rgba(255, 255, 255, 0.2);  
        background: rgba(255, 255, 255, 0.1);  
        backdrop-filter: blur(10px);  
        -webkit-backdrop-filter: blur(10px);  
        color: #ffffff;  
        font-size: 1.1rem;  
        font-weight: 600;  
        align-items: center;  
        justify-content: center;  
        padding: 0;  
        cursor: pointer;  
        flex-shrink: 0;  
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);  
    }  

    .send-btn.visible {  
        display: flex;  
    }  

    .logo-loader-wrapper {  
        height: 2.7rem;  
        width: 2.7rem;  
        margin-left: 0;  
        position: relative;  
        z-index: 20;  
        flex-shrink: 0;  
        display: flex;  
        align-items: center;  
        justify-content: center;  
        pointer-events: none;  
    }  

    .logo-loader-wrapper .loader {  
        --size: 0.5;  
    }  

    /* Loader (from Uiverse) */  
    .loader {  
        --color-one: #ffbf48;  
        --color-two: #be4a1d;  
        --color-three: #ffbf4780;  
        --color-four: #bf4a1d80;  
        --color-five: #ffbf4740;  
        --time-animation: 2s;  
        --size: 1;  
        position: relative;  
        border-radius: 50%;  
        transform: scale(var(--size));  
        box-shadow:  
            0 0 25px 0 var(--color-three),  
            0 20px 50px 0 var(--color-four);  
        animation: colorize calc(var(--time-animation) * 3) ease-in-out infinite;  
    }  

    .loader::before {  
        content: "";  
        position: absolute;  
        top: 0;  
        left: 0;  
        width: 100px;  
        height: 100px;  
        border-radius: 50%;  
        border-top: solid 1px var(--color-one);  
        border-bottom: solid 1px var(--color-two);  
        background: linear-gradient(180deg, var(--color-five), var(--color-four));  
        box-shadow:  
            inset 0 10px 10px 0 var(--color-three),  
            inset 0 -10px 10px 0 var(--color-four);  
    }  

    .loader .box {  
        width: 100px;  
        height: 100px;  
        background: linear-gradient(180deg, var(--color-one) 30%, var(--color-two) 70%);  
        mask: url(#clipping);  
        -webkit-mask: url(#clipping);  
    }  

    .loader svg {  
        position: absolute;  
    }  

    .loader svg #clipping {  
        filter: contrast(15);  
        animation: roundness calc(var(--time-animation) / 2) linear infinite;  
    }  

    .loader svg #clipping polygon {  
        filter: blur(7px);  
    }  

    .loader svg #clipping polygon:nth-child(1) {  
        transform-origin: 75% 25%;  
        transform: rotate(90deg);  
    }  

    .loader svg #clipping polygon:nth-child(2) {  
        transform-origin: 50% 50%;  
        animation: rotation var(--time-animation) linear infinite reverse;  
    }  

    .loader svg #clipping polygon:nth-child(3) {  
        transform-origin: 50% 60%;  
        animation: rotation var(--time-animation) linear infinite;  
        animation-delay: calc(var(--time-animation) / -3);  
    }  

    .loader svg #clipping polygon:nth-child(4) {  
        transform-origin: 40% 40%;  
        animation: rotation var(--time-animation) linear infinite reverse;  
    }  

    .loader svg #clipping polygon:nth-child(5) {  
        transform-origin: 40% 40%;  
        animation: rotation var(--time-animation) linear infinite reverse;  
        animation-delay: calc(var(--time-animation) / -2);  
    }  

    .loader svg #clipping polygon:nth-child(6) {  
        transform-origin: 60% 40%;  
        animation: rotation var(--time-animation) linear infinite;  
    }  

    .loader svg #clipping polygon:nth-child(7) {  
        transform-origin: 60% 40%;  
        animation: rotation var(--time-animation) linear infinite;  
        animation-delay: calc(var(--time-animation) / -1.5);  
    }  

    @keyframes rotation {  
        0% { transform: rotate(0deg); }  
        100% { transform: rotate(360deg); }  
    }  

    @keyframes roundness {  
        0% { filter: contrast(15); }  
        20% { filter: contrast(3); }  
        40% { filter: contrast(3); }  
        60% { filter: contrast(15); }  
        100% { filter: contrast(15); }  
    }  

    @keyframes colorize {  
        0% { filter: hue-rotate(0deg); }  
        20% { filter: hue-rotate(-30deg); }  
        40% { filter: hue-rotate(-60deg); }  
        60% { filter: hue-rotate(-90deg); }  
        80% { filter: hue-rotate(-45deg); }  
        100% { filter: hue-rotate(0deg); }  
    }  

    /* ---------------- PERIODICAL RECORDS SECTION STYLES ---------------- */  

    :root {  
        --page-bg: #ffffff;  
        --text-main: #111827;  
        --text-muted: #6b7280;  

        --metric-bg: #ffe3ec;  
        --metric-border: #f8cfdc;  
        --metric-accent: #ff4f7d;  

        /* summary card sky-blue background */  
        --info-bg: linear-gradient(135deg, #e0f2ff 0%, #bfdbfe 100%);  
        --info-border: rgba(148, 163, 184, 0.5);  

        /* keep yellow subject background */  
        --subject-2-bg: linear-gradient(135deg, #fef3c7, #fde68a);  

        --card-radius: 18px;  
        --shadow-soft: 0 10px 25px rgba(15, 23, 42, 0.08);  
    }  

    .periodical-section {  
        display: flex;  
        flex-direction: column;  
        gap: 4px;  
        margin-bottom: 40px;  
    }  

    .periodical-header {  
        display: flex;  
        flex-direction: column;  
        gap: 4px;  
        margin-bottom: 8px;  
    }  

    .periodical-header h2 {  
        font-size: 22px;  
        font-weight: 700;  
        color: #2d3436;  
    }  

    /* DATE PICKER */  
    .date-picker-container {  
        max-width: 420px;  
        width: 100%;  
    }  

    .custom-flatpickr {  
        position: relative;  
    }  

    .custom-flatpickr input {  
        width: 100%;  
        padding: 12px 16px;  
        padding-right: 52px;  
        font-size: 15px;  
        color: transparent;  
        background: #ffffff;  
        border: 1px solid #d1d5db;  
        border-radius: 10px;  
        outline: none;  
        transition: all 0.2s ease;  
        cursor: pointer;  
        caret-color: transparent;  
    }  

    .custom-flatpickr input:hover {  
        border-color: #9ca3af;  
        box-shadow: 0 0 0 1px rgba(148, 163, 184, 0.6);  
    }  

    .custom-flatpickr input:focus {  
        border-color: #6366f1;  
        box-shadow: 0 0 0 1px rgba(99, 102, 241, 0.7);  
    }  

    .custom-flatpickr input::placeholder {  
        color: transparent;  
    }  

    .date-display {  
        position: absolute;  
        left: 16px;  
        right: 52px;  
        top: 50%;  
        transform: translateY(-50%);  
        pointer-events: none;  
        display: flex;  
        align-items: center;  
        gap: 8px;  
        font-size: 13px;  
        font-weight: 500;  
    }  

    .date-part {  
        color: var(--text-main);  
        white-space: nowrap;  
        position: relative;  
        padding-bottom: 2px;  
    }  

    .date-part.empty {  
        color: #9ca3af;  
    }  

    .date-part::after {  
        content: '';  
        position: absolute;  
        bottom: 0;  
        left: 0;  
        right: 0;  
        height: 1px;  
        background: #9ca3af;  
        opacity: 0.7;  
    }  

    .date-separator {  
        color: #9ca3af;  
        font-weight: 600;  
        flex-shrink: 0;  
    }  

    .calendar-icon {  
        position: absolute;  
        right: 14px;  
        top: 50%;  
        transform: translateY(-50%);  
        pointer-events: none;  
        font-size: 20px;  
        transition: color 0.2s;  
        display: flex;  
        align-items: center;  
        justify-content: center;  
    }  

    .calendar-icon svg {  
        width: 20px;  
        height: 20px;  
    }  

    .custom-flatpickr input:hover ~ .calendar-icon,  
    .custom-flatpickr input:focus ~ .calendar-icon {  
        color: #4b5563;  
    }  

    .date-picker-helper {  
        margin-top: 6px;  
        font-size: 12px;  
        color: var(--text-muted);  
        margin-left: auto;  
        width: fit-content;  
        padding-right: 215px;  
    }  

    /* BENTO GRID */  
    .bento-grid {  
        display: grid;  
        grid-template-columns: repeat(4, minmax(0, 1fr));  
        gap: 16px;  
        margin-top: 16px;  
    }  

    /* Base card */  
    .card {  
        border-radius: var(--card-radius);  
        padding: 8px 16px 14px;  
        box-shadow: var(--shadow-soft);  
        background: #ffffff;  
        display: flex;  
        flex-direction: column;  
        justify-content: space-between;  
        overflow: hidden;  
        border: none;  
        position: relative;  
    }  

    .card-title {  
        font-size: 15px;  
        font-weight: 600;  
        margin-bottom: 6px;  
    }  

    .card-body {  
        flex: 1;  
        display: flex;  
        flex-direction: column;  
        justify-content: center;  
        align-items: center;  
    }  

    .card-footer {  
        margin-top: 8px;  
        text-align: center;  
        font-size: 12px;  
        color: var(--text-muted);  
    }  

    .span-2 {  
        grid-column: span 2;  
    }  

    .span-full {  
        grid-column: 1 / -1;  
    }  

    /* Metric cards */  
    .metric-card {
        background: transparent;              /* no fill, show page background */
        border: 1px solid #e5e7eb;           /* light border only */
        box-shadow: none;                    /* remove shadow just for metric cards */
    } 

    .metric-icon {  
        position: absolute;  
        top: 12px;  
        right: 14px;  
        display: flex;  
        align-items: center;  
        justify-content: center;  
        opacity: 0.9;  
    }  

    .metric-icon svg {  
        width: 22px;  
        height: 22px;  
    }
    
    

    /* Edit pencil for major card */  
    .major-edit-icon {  
        position: absolute;  
        left: 14px;  
        bottom: 10px;  
        display: flex;  
        align-items: center;  
        justify-content: center;  
        cursor: pointer;  
        opacity: 0.9;  
    }  

    .major-edit-icon svg {  
        width: 24px;  
        height: 24px;  
    }
  

    /* Circle graph */  
    .circle-shell {  
        width: 95%;  
        max-width: 300px;  
        aspect-ratio: 1 / 1;  
        position: relative;  
        display: flex;  
        justify-content: center;  
        align-items: center;  
    }  

    .circle-shell svg {  
        width: 100%;  
        height: 100%;  
        transform: rotate(-90deg);  
    }  

    .circle-outer-ring {  
        fill: none;  
        stroke: #111827;  
        stroke-width: 8;  
        opacity: 0.15;  
    }  

    .circle-inner-value {  
        fill: none;  
        stroke: #9a7acf;  
        stroke-width: 8;  
        stroke-linecap: round;  
        stroke-dasharray: 377;  
        stroke-dashoffset: 94;  
    }  

    .circle-center {  
        position: absolute;  
        width: 52%;  
        height: 52%;  
        background: #fff5f8;  
        border-radius: 999px;  
        display: flex;  
        justify-content: center;  
        align-items: center;  
        box-shadow: 0 6px 16px rgba(0, 0, 0, 0.12);  
    }  

    .circle-center span {  
        font-size: 22px;  
        font-weight: 700;  
        color: #111827;  
    }  

    /* Half circle */  
    .half-shell {  
        margin-top: 10px;  
        width: 105%;  
        max-width: 360px;  
        aspect-ratio: 2 / 1;  
        position: relative;  
        display: flex;  
        justify-content: center;  
        align-items: flex-end;  
        margin-bottom: 0;  
    }  

    .half-shell svg {  
        width: 100%;  
        height: 100%;  
    }  

    .half-outer-ring {  
        fill: none;  
        stroke: #111827;  
        stroke-width: 8;  
        stroke-linecap: round;  
        opacity: 0.15;  
    }  

    .half-inner-value {  
        fill: none;  
        stroke: #9776cd;  
        stroke-width: 8;  
        stroke-linecap: round;  
        pathLength: 100;  
        stroke-dasharray: 100;  
        stroke-dashoffset: 100;  
    }  

    .half-center-text {  
        position: absolute;  
        top: 83%;  
        left: 50%;  
        transform: translate(-50%, -50%);  
        font-size: 22px;  
        font-weight: 700;  
        color: var(--text-main);  
        line-height: 1;  
    }  

    /* Major selection panel */  
    .major-modal {  
        position: absolute;  
        inset: 0;  
        background: rgba(255, 255, 255, 0.98);  
        display: none;  
        z-index: 10;  
        border-radius: inherit;  
        padding: 12px 14px 10px;  
    }  

    .major-modal-content {  
        display: flex;  
        flex-direction: column;  
        height: 100%;  
    }  

    .major-modal-subtitle {  
        font-size: 12px;  
        color: var(--text-muted);  
        margin-bottom: 8px;  
    }  

    .major-modal-list {  
        flex: 1;  
        display: flex;  
        flex-direction: column;  
        gap: 4px;  
        margin-bottom: 10px;  
        overflow-y: auto;  
        padding-right: 2px;  
    }  

    .major-modal-list label {  
        display: flex;  
        align-items: center;  
        gap: 6px;  
        cursor: pointer;  
        font-size: 13px;  
    }  

    .major-modal-list input[type="checkbox"] {  
        width: 14px;  
        height: 14px;  
    }  

    .major-modal-actions {  
        display: flex;  
        justify-content: flex-end;  
        gap: 8px;  
        margin-top: 4px;  
    }  

    .btn-ghost,  
    .btn-primary {  
        border-radius: 999px;  
        padding: 4px 10px;  
        font-size: 12px;  
        border: none;  
        cursor: pointer;  
    }  

    .btn-ghost {  
        background: #f3f4f6;  
        color: #111827;  
    }  

    .btn-primary {  
        background: #111827;  
        color: #ffffff;  
    }  

    /* Attendance summary card */  
    .info-card {  
        background: var(--info-bg);  
        align-items: stretch;  
        color: #0f172a;  
    }  

    .summary-header {  
        display: flex;  
        align-items: flex-start;  
        justify-content: space-between;  
        margin-bottom: 8px;  
    }  

    .summary-title {  
        font-size: 15px;  
        font-weight: 600;  
    }  

    .summary-icon {  
        display: inline-flex;  
        align-items: center;  
        justify-content: center;  
    }  

    .summary-icon svg {  
        width: 20px;  
        height: 20px;  
        color: #0f172a;  
        opacity: 0.9;  
    }  

    .info-card-body {  
        font-size: 13px;  
        color: #0f172a;  
    }  

    .info-card-body ul {  
        list-style: disc;  
        padding-left: 18px;  
        margin: 0;  
    }  

    .info-card-body li {  
        margin-bottom: 4px;  
    }  

    /* Subject cards for periodical section */  
    .card.subject-card {  
        aspect-ratio: 1.2 / 1;  
        padding: 12px 16px 14px;  
        position: relative;  
        display: flex;  
        flex-direction: column;  
        justify-content: flex-start;  
        min-height: 120px;  
    }  

    .subject-header {  
        display: flex;  
        justify-content: space-between;  
        align-items: flex-start;  
        gap: 8px;  
        max-height: 48px;  
        overflow: hidden;  
        margin-bottom: 4px;  
    }  

    .card.subject-card .subject-name {  
        font-size: 14px;  
        font-weight: 600;  
        color: #111827;  
        line-height: 1.2;  
        flex: 1;  
        word-break: break-word;  
        white-space: normal;  
        transition: font-size 0.1s ease-out;  
    }  

    .card.subject-card .subject-icon {  
        display: flex;  
        align-items: flex-start;  
        justify-content: center;  
        flex-shrink: 0;  
        width: auto;  
        height: auto;  
        background: none;  
        margin-bottom: 0;  
    }  

    .card.subject-card .subject-icon svg {  
        width: 22px;  
        height: 22px;  
    }  

    .subject-meta-group {  
        display: flex;  
        flex-direction: column;  
        gap: 0;  
        margin-top: 4px;  
        flex-grow: 1;  
    }  

    .subject-meta {  
        font-size: 12px;  
        color: #374151;  
        margin: 0;  
        line-height: 1.4;  
    }  

    .card.subject-card .subject-percentage {  
        position: absolute;  
        right: 16px;  
        bottom: 14px;  
        font-size: 22px;  
        font-weight: 700;  
        color: #111827;  
        z-index: 1;  
    }  

    .card.subject-card.purple {  
        background: linear-gradient(135deg, #b39ddb 0%, #9575cd 100%);  
        border: none;  
    }  

    .card.subject-card.mint {  
        background: linear-gradient(135deg, #a8ddc4 0%, #7cc9a5 100%);  
        border: none;  
    }  

    .card.subject-card.peach {  
        background: linear-gradient(135deg, #ffccbc 0%, #ffab91 100%);  
        border: none;  
    }  

    .card.subject-card.subject-2 {  
        background: var(--subject-2-bg);  
        border: none;  
    }  
</style>

</head>  
<body>  
<div class="header" id="header">  
    <div class="top-bar">  
        <div class="left-section">  
            <!-- MENU BUTTON -->  
            <button class="icon-btn" aria-label="Menu">  
                <div class="menu-mini"><span></span></div>  
            </button>  <div class="brand-container">  
            <span class="brand-name">ATTENZA</span>  
            <span class="tagline">a student driven attendance tracker</span>  
        </div>  
    </div>  

    <!-- NOTIFICATION BUTTON -->  
    <button class="icon-btn notif-rev" aria-label="Notifications">  
        <svg  
            viewBox="0 0 24 24"  
            fill="none"  
            xmlns="http://www.w3.org/2000/svg"  
            aria-hidden="true"  
        >  
            <path  
                d="M12 5.365V3m0 2.365a5.338 5.338 0 0 1 5.133 5.368v1.8c0 2.386 1.867 2.982 1.867 4.175 0 .593 0 1.292-.538 1.292H5.538C5 18 5 17.301 5 16.708c0-1.193 1.867-1.789 1.867-4.175v-1.8A5.338 5.338 0 0 1 12 5.365ZM8.733 18c.094.852.306 1.54.944 2.112a3.48 3.48 0 0 0 4.646 0c.638-.572 1.236-1.26 1.33-2.112h-6.92Z"  
                stroke-width="2.25"  
                stroke-linejoin="round"  
                stroke-linecap="round"  
                stroke="currentColor"  
            ></path>  
        </svg>  
        <div class="notif-dot"></div>  
    </button>  
</div>  

<div class="expand-section">  
    <div class="expand-arrow" id="expandArrow">  
        <svg viewBox="0 0 24 24" fill="none">  
            <path d="M6 9l6 6 6-6" stroke-linecap="round" stroke-linejoin="round"/>  
        </svg>  
    </div>  

    <div class="expanded-content" id="expandedContent">  
        <div class="content-inner">  
            <div class="info-section">  
                <h3>About ATTENZA</h3>  
                <p>A student-driven attendance tracker designed exclusively for Dispur College students. View your attendance data anytime, anywhere - something our teacher-driven system doesn't allow.</p>  
            </div>  

            <div class="info-section">  
                <h3>Key Features</h3>  
                <div class="features">  
                    <div class="feature-card">  
                        <h4>ðŸ“Š Real-time Data</h4>  
                        <p>Check your attendance percentage instantly</p>  
                    </div>  
                    <div class="feature-card">  
                        <h4>ðŸ“… Subject-wise View</h4>  
                        <p>Track attendance for each subject separately</p>  
                    </div>  
                    <div class="feature-card">  
                        <h4>ðŸ”” Smart Alerts</h4>  
                        <p>Get notified when attendance falls below threshold</p>  
                    </div>  
                    <div class="feature-card">  
                        <h4>ðŸ“± Mobile Friendly</h4>  
                        <p>Access from any device, anytime</p>  
                    </div>  
                </div>  
            </div>  

            <div class="info-section">  
                <h3>How to Use</h3>  
                <p>1. Log in with your college ID<br>  
                    2. View your dashboard with attendance summary<br>  
                    3. Click on any subject to see detailed records<br>  
                    4. Set alerts for attendance warnings</p>  
            </div>  
        </div>  
    </div>  
</div>

</div>  <div class="sketch-line-container">  
    <span class="sketch-line">  
        I  
        <svg class="sketch-heart" viewBox="0 0 120 120">  
            <path d="M60 105  
                     C20 70, 10 40, 30 25  
                     C50 10, 70 20, 60 40  
                     C80 10, 110 25, 90 50  
                     C70 80, 60 95, 60 105 Z"/>  <g stroke="#e63946"  
           stroke-width="4"  
           fill="none"  
           stroke-linecap="round"  
           stroke-linejoin="round"  
           opacity="0.9">  

            <path d="M35 60 Q 55 50 80 55" />  
            <path d="M32 68 Q 55 60 85 64" />  
            <path d="M34 76 Q 55 70 82 75" />  
            <path d="M37 84 Q 58 78 79 82" />  

            <path d="M45 45 Q 60 55 78 68" />  
            <path d="M40 52 Q 55 64 75 78" />  

            <path d="M50 70 Q 55 68 60 72" />  
            <path d="M58 80 Q 63 78 68 82" />  
        </g>  
    </svg>  
    Dispur College  
</span>

</div>  <div class="content-body">  
    <!-- HERO / WELCOME -->  
    <div class="welcome-section">  
        <div class="welcome-content">  
            <div class="welcome-text-content">  
                <h3 id="welcomeTitle">Hello, User!</h3>  
                <p id="welcomeSubtitle">Great progress! Keep maintaining your attendance streak.</p>  <div class="attendance-ring">  
                <svg class="ring-svg" viewBox="0 0 160 160">  
                    <circle class="ring-bg-circle" cx="80" cy="80" r="70"></circle>  
                    <circle class="ring-progress-circle" cx="80" cy="80" r="70" id="progressCircle"></circle>  
                </svg>  
                <div class="ring-center">  
                    <span class="percentage" id="percentageText">75%</span>  
                    <span class="percentage-label">Overall</span>  
                </div>  
            </div>  
        </div>  
    </div>  
</div>  

<!-- NOTEBOOK STYLE PAGE CARD -->  
<div class="notebook-section">  
    <div class="page">  
        <img src="Image/your-logo.png" alt="Logo" class="note-logo">  
        <div class="margin"></div>  

        <p>  
            Keep a quick note of important classes, make-up days or attendance targets here.  
            This space can work like your personal college notebook page.  
        </p>  

        <div class="teacher-mark">  
            <span class="teacher-sign">Principal</span>  
        </div>  
    </div>  
</div>  

<div class="install-strip" id="installStrip">  
    <div class="install-content">  
        <span class="install-text" id="installText">Install this site as an app</span>  
        <button class="close-strip" id="closeStrip">  
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">  
                <line x1="18" y1="6" x2="6" y2="18"></line>  
                <line x1="6" y1="6" x2="18" y2="18"></line>  
            </svg>  
        </button>  
    </div>  
</div>  

<div class="section-header">  
    <h3>Today's Schedule</h3>  
    <a href="#" class="view-all">  
        VIEW  
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">  
            <polyline points="9 18 15 12 9 6"></polyline>  
        </svg>  
    </a>  
</div>  

<div class="carousel-container">  
    <div class="carousel" id="carousel">  
        <div class="class-card">  
            <div class="class-header">  
                <span class="class-subject">Data Structures</span>  
                <span class="class-time">09:00 AM</span>  
            </div>  
            <div class="class-details">  
                <div><strong>Room:</strong> CS-301</div>  
                <div><strong>Faculty:</strong> Dr. Smith</div>  
                <div><strong>Duration:</strong> 1 hour</div>  
            </div>  
            <div class="attendance-actions">  
                <button class="attendance-btn btn-attend">Attend</button>  
                <button class="attendance-btn btn-skip">Skip</button>  
                <button class="attendance-btn btn-not-held">Not Held</button>  
            </div>  
        </div>  

        <div class="class-card">  
            <div class="class-header">  
                <span class="class-subject">Database Systems</span>  
                <span class="class-time">11:00 AM</span>  
            </div>  
            <div class="class-details">  
                <div><strong>Room:</strong> CS-205</div>  
                <div><strong>Faculty:</strong> Prof. Johnson</div>  
                <div><strong>Duration:</strong> 1.5 hours</div>  
            </div>  
            <div class="attendance-actions">  
                <button class="attendance-btn btn-attend">Attend</button>  
                <button class="attendance-btn btn-skip">Skip</button>  
                <button class="attendance-btn btn-not-held">Not Held</button>  
            </div>  
        </div>  

        <div class="class-card">  
            <div class="class-header">  
                <span class="class-subject">Web Development</span>  
                <span class="class-time">02:00 PM</span>  
            </div>  
            <div class="class-details">  
                <div><strong>Room:</strong> Lab-102</div>  
                <div><strong>Faculty:</strong> Ms. Williams</div>  
                <div><strong>Duration:</strong> 2 hours</div>  
            </div>  
            <div class="attendance-actions">  
                <button class="attendance-btn btn-attend">Attend</button>  
                <button class="attendance-btn btn-skip">Skip</button>  
                <button class="attendance-btn btn-not-held">Not Held</button>  
            </div>  
        </div>  

        <div class="class-card">  
            <div class="class-header">  
                <span class="class-subject">Computer Networks</span>  
                <span class="class-time">04:00 PM</span>  
            </div>  
            <div class="class-details">  
                <div><strong>Room:</strong> CS-102</div>  
                <div><strong>Faculty:</strong> Dr. Anderson</div>  
                <div><strong>Duration:</strong> 1 hour</div>  
            </div>  
            <div class="attendance-actions">  
                <button class="attendance-btn btn-attend">Attend</button>  
                <button class="attendance-btn btn-skip">Skip</button>  
                <button class="attendance-btn btn-not-held">Not Held</button>  
            </div>  
        </div>  
    </div>  
</div>  

<!-- NEW PERIODICAL RECORDS SECTION (replacing old Subjects section) -->  
<section class="periodical-section">  
    <header class="periodical-header">  
        <h2>Periodical records</h2>  
    </header>  

    <div class="date-picker-container">  
        <div class="custom-flatpickr">  
            <input  
                type="text"  
                placeholder="Select date range..."  
                data-input  
                id="rangePicker"  
            />  
            <div class="date-display" id="dateDisplay">  
                <span class="date-part empty" id="startDate">Select date</span>  
                <span class="date-separator">to</span>  
                <span class="date-part empty" id="endDate">Select date</span>  
            </div>  
            <span class="calendar-icon" aria-hidden="true">  
                <svg viewBox="0 0 24 24" fill="none" stroke="#323544" stroke-width="2"  
                      stroke-linecap="round" stroke-linejoin="round">  
                    <rect x="3" y="4" width="18" height="18" rx="3" ry="3"></rect>  
                    <line x1="3" y1="10" x2="21" y2="10"></line>  
                    <line x1="8" y1="2" x2="8" y2="6"></line>  
                    <line x1="16" y1="2" x2="16" y2="6"></line>  
                </svg>  
            </span>  
        </div>  
        <p class="date-picker-helper">for selected period</p>  
    </div>  

    <section class="bento-grid">  

        <article class="card metric-card span-2">  
            <div class="card-title">Overall attendance</div>  
            <div class="metric-icon" aria-hidden="true">  
                <svg class="w-6 h-6" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="#323544" viewBox="0 0 24 24">  
                    <path d="M13.5 2c-.178 0-.356.013-.492.022l-.074.005a1 1 0 0 0-.934.998V11a1 1 0 0 0 1 1h7.975a1 1 0 0 0 .998-.934l.005-.074A7.04 7.04 0 0 0 22 10.5A8.5 8.5 0 0 0 13.5 2Z"/>  
                    <path d="M11 6.025a1 1 0 0 0-1.065-.998 8.5 8.5 0 1 0 9.038 9.039A1 1 0 0 0 17.975 13H11V6.025Z"/>  
                </svg>  
            </div>  
            <div class="card-body">  
                <div class="circle-shell">  
                    <svg viewBox="0 0 140 140">  
                        <circle class="circle-outer-ring" cx="70" cy="70" r="60" />  
                        <circle class="circle-inner-value" cx="70" cy="70" r="48" />  
                    </svg>  
                    <div class="circle-center"><span>75%</span></div>  
                </div>  
                <div class="card-footer">All subjects combined</div>  
            </div>  
        </article>  

        <article class="card metric-card span-2" id="majorCard">  
            <div class="card-title">Major subs overall</div>  
            <div class="metric-icon" aria-hidden="true">  
                <svg width="24" height="25" viewBox="0 0 24 25" fill="none" xmlns="http://www.w3.org/2000/svg">  
                    <path d="M3.5 5.75C3.5 5.33579 3.16421 5 2.75 5C2.33579 5 2 5.33579 2 5.75V17.75C2 18.9926 3.00736 20 4.25 20H21.25C21.6642 20 22 19.6642 22 19.25C22 18.8358 21.6642 18.5 21.25 18.5H4.25C3.83579 18.5 3.5 18.1642 3.5 17.75V5.75Z" fill="#323544"/>  
                    <path d="M7 10.7773C5.89543 10.7773 5 11.6728 5 12.7773V16.2501C5 16.6643 5.33579 17.0001 5.75 17.0001H8.25C8.66421 17.0001 9 16.6643 9 16.2501V12.7773C9 11.6728 8.10457 10.7773 7 10.7773Z" fill="#323544"/>  
                    <path d="M12.5 5C11.3954 5 10.5 5.89543 10.5 7V16.2501C10.5 16.6643 10.8358 17.0001 11.25 17.0001H13.75C14.1642 17.0001 14.5 16.6643 14.5 16.2501V7C14.5 5.89543 13.6046 5 12.5 5Z" fill="#323544"/>  
                    <path d="M18 8.55859C16.8954 8.55859 16 9.45402 16 10.5586V16.2501C16 16.6643 16.3358 17.0001 16.75 17.0001H19.25C19.6642 17.0001 20 16.6643 20 16.2501V10.5586C20 9.45402 19.1046 8.55859 18 8.55859Z" fill="#323544"/>  
                </svg>  
            </div>  

            <div class="major-edit-icon" id="majorEdit" title="Select major subjects">  
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#323544" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-pencil-discount">  
                    <path stroke="none" d="M0 0h24v24H0z" fill="none"/>  
                    <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />  
                    <path d="M13.5 6.5l4 4" />  
                    <path d="M16 21l5 -5" />  
                    <path d="M21 21v.01" />  
                    <path d="M16 16v.01" />  
                </svg>  
            </div>  

            <div class="card-body">  
                <div class="half-shell">  
                    <svg viewBox="0 0 140 80">  
                        <path class="half-outer-ring" d="M15 70 A55 55 0 0 1 125 70" />  
                        <path class="half-inner-value" id="majorHalfPath" d="M28 70 A40 40 0 0 1 112 70" />  
                    </svg>  
                    <div class="half-center-text" id="majorPercent">0%</div>  
                </div>  
                <div class="card-footer" id="majorFooter">Select major, click pencil button</div>  
            </div>  

            <div class="major-modal" id="majorModal">  
                <div class="major-modal-content">  
                    <div class="major-modal-subtitle">  
                        Select major subjects to calculate major overall.  
                    </div>  
                    <div class="major-modal-list" id="majorList">  
                        <label>  
                            <input type="checkbox" value="Mathematics" class="major-checkbox" />  
                            <span>Mathematics</span>  
                        </label>  
                        <label>  
                            <input type="checkbox" value="Physics" class="major-checkbox" />  
                            <span>Physics</span>  
                        </label>  
                        <label>  
                            <input type="checkbox" value="Chemistry" class="major-checkbox" />  
                            <span>Chemistry</span>  
                        </label>  
                        <label>  
                            <input type="checkbox" value="Computer Science" class="major-checkbox" />  
                            <span>Computer Science</span>  
                        </label>  
                    </div>  
                    <div class="major-modal-actions">  
                        <button type="button" class="btn-ghost" id="majorCancel">Cancel</button>  
                        <button type="button" class="btn-primary" id="majorSave">Save</button>  
                    </div>  
                </div>  
            </div>  
        </article>  

        <article class="card info-card span-full">  
            <div class="summary-header">  
                <span class="summary-title">Attendance summary</span>  
                <span class="summary-icon" aria-hidden="true">  
                  <svg viewBox="0 0 24 24" fill="none" stroke="#323544" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">  
                    <rect x="3" y="4" width="18" height="14" rx="2"></rect>  
                    <path d="M7 9h10"></path>  
                    <path d="M7 13h4"></path>  
                  </svg>  
                </span>  
            </div>  
            <div class="info-card-body" id="summaryBody">  
                <ul>  
                    <li>Overall attendance is 75% for this period.</li>  
                    <li>Major subjects are not selected yet. Choose majors to track their combined attendance.</li>  
                </ul>  
            </div>  
        </article>  

        <article class="card subject-card purple span-2">  
            <div class="subject-header">  
                <span class="subject-name">Mathematics</span>  
                <span class="subject-icon" aria-hidden="true">  
                  <svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">  
                    <path stroke="#323544" stroke-linejoin="round" d="m17 13 3.4641-2V7L17 5l-3.4641 2v4M17 13l-3.4641-2M17 13v4l-7.00001 4M17 13V9m0 4-7.00001 4m3.53591-6L10.5 12.7348M9.99999 21l-3.4641-2.1318M9.99999 21v-4m-3.4641 2v-.1318m0 0V15L10.5 12.7348m-3.96411 6.1334L3.5 17V5m0 0L7 3l3.5 2m-7 0 2.99999 2M10.5 5v7.7348M10.5 5 6.49999 7M17 9l3.5-2M17 9l-3.5-2M9.99999 17l-3.5-2m0 .5V7"/>  
                  </svg>  
                </span>  
            </div>  
            <div class="subject-meta-group">  
                <div class="subject-meta">Total classes - 22</div>  
                <div class="subject-meta">Attended - 18</div>  
            </div>  
            <div class="subject-percentage">82%</div>  
        </article>  

        <article class="card subject-card subject-2 span-2">  
            <div class="subject-header">  
                <span class="subject-name">Physics</span>  
                <span class="subject-icon" aria-hidden="true">  
                  <svg class="w-[38px] h-[38px]" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="#323544" viewBox="0 0 24 24">  
                    <path d="M20 14h-2.722L11 20.278a5.511 5.511 0 0 1-.9.722H20a1 1 0 0 0 1-1v-5a1 1 0 0 0-1-1ZM9 3H4a1 1 0 0 0-1 1v13.5a3.5 3.5 0 1 0 7 0V4a1 1 0 0 0-1-1ZM6.5 18.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2ZM19.132 7.9 15.6 4.368a1 1 0 0 0-1.414 0L12 6.55v9.9l7.132-7.132a1 1 0 0 0 0-1.418Z"/>  
                  </svg>  
                </span>  
            </div>  
            <div class="subject-meta-group">  
                <div class="subject-meta">Total classes - 20</div>  
                <div class="subject-meta">Attended - 15</div>  
            </div>  
            <div class="subject-percentage">75%</div>  
        </article>  

        <article class="card subject-card mint span-2">  
            <div class="subject-header">  
                <span class="subject-name">Computer Science</span>  
                <span class="subject-icon" aria-hidden="true">  
                  <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">  
                    <path d="M11.9933 3.50879C11.6316 3.50879 11.2683 3.58158 10.9266 3.7263L3.4825 6.85273C3.06333 7.02875 3.07417 7.62121 3.4925 7.79726L10.9775 10.8086C11.6332 11.0786 12.3667 11.0786 13.0225 10.8086L20.5075 7.79726C20.9266 7.63137 20.9266 7.02875 20.5175 6.85273L13.0533 3.7263C12.7179 3.58228 12.3575 3.5083 11.9933 3.50879ZM21.5 8.66308C21.4365 8.6635 21.3736 8.67644 21.315 8.70117L12.9716 11.9825C12.8783 12.0213 12.7984 12.0874 12.742 12.1723C12.6857 12.2573 12.6554 12.3574 12.655 12.4598V19.989C12.6558 20.0714 12.6763 20.1524 12.7148 20.225C12.7533 20.2975 12.8087 20.3595 12.876 20.4055C12.9433 20.4515 13.0207 20.4801 13.1014 20.4889C13.1821 20.4978 13.2637 20.4865 13.3392 20.4562L21.6833 17.1639C21.7769 17.1286 21.8574 17.0649 21.9141 16.9814C21.9708 16.898 22.0007 16.7989 22 16.6975V9.16836C21.9991 9.03426 21.946 8.90598 21.8523 8.81146C21.7587 8.71694 21.632 8.66305 21.5 8.66308ZM2.56333 8.69609C2.48934 8.69343 2.41561 8.70634 2.34678 8.73399C2.27794 8.76166 2.21548 8.80352 2.16333 8.85688C2.07167 8.95082 2 9.06425 2 9.19965V16.271C2 16.645 2.42916 16.8947 2.75667 16.728L10.7116 12.8441C11.1 12.6579 11.07 12.0756 10.6608 11.9198L2.73583 8.73246C2.68113 8.70923 2.62262 8.69746 2.56333 8.69609Z" fill="#323544"/>  
                  </svg>  
                </span>  
            </div>  
            <div class="subject-meta-group">  
                <div class="subject-meta">Total classes - 21</div>  
                <div class="subject-meta">Attended - 16</div>  
            </div>  
            <div class="subject-percentage">76%</div>  
        </article>  

        <article class="card subject-card peach span-2">  
            <div class="subject-header">  
                <span class="subject-name">Computer Science</span>  
                <span class="subject-icon" aria-hidden="true">  
                  <svg class="w-[38px] h-[38px]" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="#323544" viewBox="0 0 24 24">  
                    <path d="M3 4.92857C3 3.90506 3.80497 3 4.88889 3H19.1111C20.195 3 21 3.90506 21 4.92857V13h-3v-2c0-.5523-.4477-1-1-1h-4c-.5523 0-1 .4477-1 1v2H3V4.92857ZM3 15v1.0714C3 17.0949 3.80497 18 4.88889 18h3.47608L7.2318 19.3598c-.35356.4243-.29624 1.0548.12804 1.4084.42428.3536 1.05484.2962 1.40841-.128L10.9684 18h2.0632l2.2002 2.6402c.3535.4242.9841.4816 1.4084.128.4242-.3536.4816-.9841.128-1.4084L15.635 18h3.4761C20.195 18 21 17.0949 21 16.0714V15H3Z"/>  
                    <path d="M16 12v1h-2v-1h2Z"/>  
                  </svg>  
                </span>  
            </div>  
            <div class="subject-meta-group">  
                <div class="subject-meta">Total classes - 14</div>  
                <div class="subject-meta">Attended - 11</div>  
            </div>  
            <div class="subject-percentage">79%</div>  
        </article>  

    </section>  
</section>

</div>  <!-- AI BOARD OVERLAY -->  <div class="ai-board-overlay">  
    <div class="ai-board" id="aiBoard">  
        <div class="ai-board-header">  
            <h2 class="ai-title">Attenza AI</h2>  
            <button class="ai-close-btn" id="aiCloseBtn" aria-label="Close AI">Ã—</button>  
        </div>  <div class="ai-board-body">  
        <div class="ai-user-card-wrapper">  
            <div class="ai-user-card" id="userMessageCard">  
                Your question will appear here.  
            </div>  
        </div>  

        <div class="ai-status-row">  
            <div class="ai-status-loader">  
                <div class="stripe"></div>  
                <div class="stripe"></div>  
                <div class="stripe"></div>  
                <div class="stripe"></div>  
            </div>  
            <span class="ai-status-text" id="aiStatusText">Analyzingâ€¦</span>  
        </div>  

        <div class="ai-response" id="aiResponse">

Here is a sample response from Attenza AI.

Once you connect Gemini and your attendance backend, this will show real, detailed insights.
</div>

<button class="ai-copy-btn" id="aiCopyBtn">  
            <span>ðŸ“‹</span>  
            <span>Copy</span>  
        </button>  
    </div>  
</div>

</div>  <!-- FIXED AI CARD AT BOTTOM -->  <div class="ai-card-container">  
    <div class="see-more-btn">  
        <div class="logo-loader-wrapper">  
            <div class="loader">  
                <svg width="100" height="100" viewBox="0 0 100 100">  
                    <defs>  
                        <mask id="clipping">  
                            <polygon points="0,0 100,0 100,100 0,100" fill="black"></polygon>  
                            <polygon points="25,25 75,25 50,75" fill="white"></polygon>  
                            <polygon points="50,25 75,75 25,75" fill="white"></polygon>  
                            <polygon points="35,35 65,35 50,65" fill="white"></polygon>  
                            <polygon points="35,35 65,35 50,65" fill="white"></polygon>  
                            <polygon points="35,35 65,35 50,65" fill="white"></polygon>  
                            <polygon points="35,35 65,35 50,65" fill="white"></polygon>  
                        </mask>  
                    </defs>  
                </svg>  
                <div class="box"></div>  
            </div>  
        </div>  <span class="divider"></span>  

    <div class="prompt-area" id="promptArea">  
        <div class="prompt-display">  
            <span class="typewriter-text" id="typewriterText"></span>  
            <input  
                type="text"  
                id="promptInput"  
                class="prompt-input"  
                autocomplete="off"  
                autocorrect="off"  
                autocapitalize="sentences"  
                spellcheck="false"  
            />  
        </div>  

        <button class="send-btn" id="sendBtn">  
            <svg viewBox="0 0 24 24" style="width:22px; height:22px;">  
                <path d="M12 5L18 11" stroke="white" stroke-width="2.4" stroke-linecap="round"/>  
                <path d="M12 5L6 11" stroke="white" stroke-width="2.4" stroke-linecap="round"/>  
                <path d="M12 5V19" stroke="white" stroke-width="2.4" stroke-linecap="round"/>  
            </svg>  
        </button>  
    </div>  
</div>

</div>  <script>  
    // Header expand/collapse  
    const expandArrow = document.getElementById('expandArrow');  
    const expandedContent = document.getElementById('expandedContent');  
    const header = document.getElementById('header');  
  
    expandArrow.addEventListener('click', function() {  
        expandedContent.classList.toggle('show');  
        expandArrow.classList.toggle('rotated');  
        header.classList.toggle('expanded');  
    });  
  
    // Attendance ring  
    function updateRing(percentage) {  
        const circle = document.getElementById('progressCircle');  
        const radius = 70;  
        const circumference = 2 * Math.PI * radius;  
        const offset = circumference - (percentage / 100) * circumference;  
  
        circle.style.strokeDasharray = `${circumference} ${circumference}`;  
        circle.style.strokeDashoffset = offset;  
    }  
  
    // Dynamic quote  
    function updateQuote(percentage) {  
        const quoteElement = document.querySelector('.welcome-text-content p');  
        if (percentage >= 85) {  
            quoteElement.textContent = "Excellent! You're a role model for attendance.";  
        } else if (percentage >= 75) {  
            quoteElement.textContent = "Great progress! Keep maintaining your attendance streak.";  
        } else if (percentage >= 65) {  
            quoteElement.textContent = "Good effort! A few more classes to reach the goal.";  
        } else {  
            quoteElement.textContent = "Time to catch up! Every class counts.";  
        }  
    }  
  
    // Smooth text change (kept for future use)  
    function changeWelcomeText(title, subtitle) {  
        const titleEl = document.getElementById('welcomeTitle');  
        const subtitleEl = document.getElementById('welcomeSubtitle');  
  
        titleEl.classList.add('fade-text');  
        subtitleEl.classList.add('fade-text');  
  
        setTimeout(() => {  
            titleEl.textContent = title;  
            subtitleEl.textContent = subtitle;  
  
            titleEl.classList.remove('fade-text');  
            subtitleEl.classList.remove('fade-text');  
        }, 350);  
    }  
  
    // Carousel drag scroll  
    const carousel = document.getElementById('carousel');  
    let isDown = false;  
    let startX;  
    let scrollLeft;  
  
    carousel.addEventListener('mousedown', (e) => {  
        isDown = true;  
        carousel.style.cursor = 'grabbing';  
        startX = e.pageX - carousel.offsetLeft;  
        scrollLeft = carousel.scrollLeft;  
    });  
  
    carousel.addEventListener('mouseleave', () => {  
        isDown = false;  
        carousel.style.cursor = 'grab';  
    });  
  
    carousel.addEventListener('mouseup', () => {  
        isDown = false;  
        carousel.style.cursor = 'grab';  
    });  
  
    carousel.addEventListener('mousemove', (e) => {  
        if (!isDown) return;  
        e.preventDefault();  
        const x = e.pageX - carousel.offsetLeft;  
        const walk = (x - startX) * 2;  
        carousel.scrollLeft = scrollLeft - walk;  
    });  
  
    // Attendance buttons  
    document.querySelectorAll('.attendance-btn').forEach(btn => {  
        btn.addEventListener('click', function() {  
            const card = this.closest('.class-card');  
            const subject = card.querySelector('.class-subject').textContent;  
            const action = this.textContent;  
  
            this.style.transform = 'scale(0.95)';  
            setTimeout(() => {  
                this.style.transform = '';  
            }, 100);  
  
            console.log(`${action} for ${subject}`);  
        });  
    });  
  
    // Initialize ring + quote  
    updateRing(75);  
    updateQuote(75);  
    carousel.style.cursor = 'grab';  
  
    // PWA Install  
    let deferredPrompt;  
    const installStrip = document.getElementById('installStrip');  
    const installText = document.getElementById('installText');  
    const closeStripBtn = document.getElementById('closeStrip');  
  
    if (localStorage.getItem('installStripDismissed') === 'true') {  
        installStrip.classList.add('hidden');  
    }  
  
    window.addEventListener('beforeinstallprompt', (e) => {  
        console.log('beforeinstallprompt event fired');  
        e.preventDefault();  
        deferredPrompt = e;  
        installStrip.classList.remove('hidden');  
    });  
  
    installText.addEventListener('click', async function() {  
        console.log('Install text clicked');  
        if (!deferredPrompt) {  
            console.log('No deferred prompt available');  
            alert('App install is not available. Try using Chrome or Edge browser.');  
            return;  
        }  
  
        try {  
            deferredPrompt.prompt();  
            const choiceResult = await deferredPrompt.userChoice;  
            console.log('User choice:', choiceResult.outcome);  
  
            if (choiceResult.outcome === 'accepted') {  
                console.log('User accepted the install prompt');  
                installText.textContent = 'Installing...';  
                setTimeout(() => {  
                    installStrip.classList.add('hidden');  
                }, 1500);  
            } else {  
                console.log('User dismissed the install prompt');  
            }  
  
            deferredPrompt = null;  
        } catch (err) {  
            console.error('Error during install prompt:', err);  
        }  
    });  
  
    closeStripBtn.addEventListener('click', function(e) {  
        e.stopPropagation();  
        installStrip.classList.add('hidden');  
        localStorage.setItem('installStripDismissed', 'true');  
        console.log('Install strip dismissed');  
    });  
  
    if ('serviceWorker' in navigator) {  
        window.addEventListener('load', () => {  
            navigator.serviceWorker.register('./sw.js')  
                .then(registration => {  
                    console.log('Service Worker registered successfully:', registration.scope);  
                })  
                .catch(err => {  
                    console.log('Service Worker registration failed:', err);  
                });  
        });  
    }  
  
    window.addEventListener('appinstalled', () => {  
        console.log('PWA was installed successfully');  
        installStrip.classList.add('hidden');  
        localStorage.setItem('installStripDismissed', 'true');  
    });  
</script>  <script>  
    /* AI BOARD JS */  
    const aiBoard = document.getElementById("aiBoard");  
    const aiCloseBtn = document.getElementById("aiCloseBtn");  
    const aiCopyBtn = document.getElementById("aiCopyBtn");  
    const aiStatusText = document.getElementById("aiStatusText");  
    const aiResponse = document.getElementById("aiResponse");  
    const userMessageCard = document.getElementById("userMessageCard");  
  
    function openBoardWithPrompt(text) {  
        userMessageCard.textContent = text || "Your question will appear here.";  
        aiBoard.classList.add("visible");  
    }  
  
    aiCloseBtn.addEventListener("click", () => {  
        aiBoard.classList.remove("visible");  
    });  
  
    aiCopyBtn.addEventListener("click", () => {  
        const text = aiResponse.textContent.trim();  
        if (!text) return;  
        navigator.clipboard.writeText(text).then(() => {  
            const labelSpan = aiCopyBtn.querySelector("span:last-child");  
            const prev = labelSpan.textContent;  
            labelSpan.textContent = "Copied!";  
            setTimeout(() => (labelSpan.textContent = prev), 1500);  
        });  
    });  
  
    const statuses = ["Analyzingâ€¦", "Thinkingâ€¦", "Almost thereâ€¦", "Preparing answerâ€¦"];  
    let statusIndex = 0;  
    setInterval(() => {  
        statusIndex = (statusIndex + 1) % statuses.length;  
        aiStatusText.textContent = statuses[statusIndex];  
    }, 2000);  
  
    /* AI CARD JS (typewriter + input) */  
    const phrases = ["Ask attenza ai your doubts", "Can i bunk eng class ?"];  
    const typewriterEl = document.getElementById("typewriterText");  
    const promptArea = document.getElementById("promptArea");  
    const promptInput = document.getElementById("promptInput");  
    const sendBtn = document.getElementById("sendBtn");  
  
    let currentPhraseIndex = 0;  
    let currentCharIndex = 0;  
    let isDeleting = false;  
    let typingActive = true;  
    let typingTimeout;  
  
    function typeLoop() {  
        if (!typingActive) return;  
  
        const currentPhrase = phrases[currentPhraseIndex];  
        if (!isDeleting) {  
            typewriterEl.textContent = currentPhrase.slice(0, currentCharIndex + 1);  
            currentCharIndex++;  
  
            if (currentCharIndex === currentPhrase.length) {  
                typingTimeout = setTimeout(() => {  
                    isDeleting = true;  
                    typeLoop();  
                }, 1200);  
                return;  
            }  
  
            typingTimeout = setTimeout(typeLoop, 120);  
        } else {  
            typewriterEl.textContent = currentPhrase.slice(0, currentCharIndex - 1);  
            currentCharIndex--;  
  
            if (currentCharIndex === 0) {  
                isDeleting = false;  
                currentPhraseIndex = (currentPhraseIndex + 1) % phrases.length;  
                typingTimeout = setTimeout(typeLoop, 300);  
                return;  
            }  
  
            typingTimeout = setTimeout(typeLoop, 80);  
        }  
    }  
  
    function stopTypewriter() {  
        typingActive = false;  
        if (typingTimeout) clearTimeout(typingTimeout);  
        typewriterEl.style.display = "none";  
        promptInput.style.display = "block";  
    }  
  
    // Start typewriter  
    typeLoop();  
  
    // Switch to input on tap  
    promptArea.addEventListener("click", () => {  
        if (typingActive) {  
            stopTypewriter();  
        }  
        promptInput.focus();  
    });  
  
    // Show send button when text present  
    promptInput.addEventListener("input", () => {  
        if (promptInput.value.trim().length > 0) {  
            sendBtn.classList.add("visible");  
        } else {  
            sendBtn.classList.remove("visible");  
        }  
    });  
  
    // Send -> open AI board  
    sendBtn.addEventListener("click", () => {  
        const value = promptInput.value.trim();  
        if (!value) return;  
        console.log("User asked:", value);  
  
        openBoardWithPrompt(value);  
  
        promptInput.value = "";  
        sendBtn.classList.remove("visible");  
    });  
</script>  <!-- Flatpickr + Periodical Records JS -->  <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>  <script>  
    const startDateEl = document.getElementById("startDate");  
    const endDateEl = document.getElementById("endDate");  
  
    function updateDisplay(instance) {  
        const dates = instance.selectedDates;  
        const format = d => instance.formatDate(d, "d M Y");  
  
        if (dates.length === 0) {  
            startDateEl.textContent = "Select date";  
            startDateEl.classList.add("empty");  
            endDateEl.textContent = "Select date";  
            endDateEl.classList.add("empty");  
        } else if (dates.length === 1) {  
            startDateEl.textContent = format(dates[0]);  
            startDateEl.classList.remove("empty");  
            endDateEl.textContent = "Select date";  
            endDateEl.classList.add("empty");  
        } else {  
            startDateEl.textContent = format(dates[0]);  
            startDateEl.classList.remove("empty");  
            endDateEl.textContent = format(dates[1]);  
            endDateEl.classList.remove("empty");  
        }  
    }  
  
    flatpickr("#rangePicker", {  
        mode: "range",  
        dateFormat: "Y-m-d",  
        defaultDate: [  
            "2019-10-21",  
            "2019-11-06"  
        ],  
        onReady: function(selectedDates, dateStr, instance) {  
            updateDisplay(instance);  
        },  
        onChange: function(selectedDates, dateStr, instance) {  
            updateDisplay(instance);  
        },  
        onOpen: function() {  
            document.querySelector(".calendar-icon").style.color = "#4b5563";  
        },  
        onClose: function() {  
            document.querySelector(".calendar-icon").style.color = "#9ca3af";  
        }  
    });  
  
    /* --- JS for dynamic font scaling --- */  
  
    function getLineCount(element) {  
        const cs = window.getComputedStyle(element);  
        const lineHeight = parseFloat(cs.lineHeight) || 1.2 * parseFloat(cs.fontSize);  
        return element.scrollHeight / lineHeight;  
    }  
  
    function adjustSubjectFont(subjectNameEl) {  
        const MAX_LINES = 2.1;  
  
        subjectNameEl.style.fontSize = '14px';  
        let currentSize = 14;  
  
        while (getLineCount(subjectNameEl) > MAX_LINES && currentSize > 10) {  
            currentSize -= 0.5;  
            subjectNameEl.style.fontSize = currentSize + 'px';  
            if (currentSize <= 10.5) break;  
        }  
    }  
  
    /* Major subjects selection & calculation */  
    const subjectsData = {  
        "Mathematics of division": { attended: 18, total: 22 },  
        "Physics": { attended: 15, total: 20 },  
        "fundamental of financial investment": { attended: 16, total: 21 },  
        "Computer Science": { attended: 11, total: 14 }  
    };  
  
    let majorSubjects = []; // selected majors  
  
    const majorModal = document.getElementById("majorModal");  
    const majorEdit = document.getElementById("majorEdit");  
    const majorSave = document.getElementById("majorSave");  
    const majorCancel = document.getElementById("majorCancel");  
    const majorCheckboxes = document.querySelectorAll(".major-checkbox");  
    const majorPercentEl = document.getElementById("majorPercent");  
    const majorFooterEl = document.getElementById("majorFooter");  
    const majorHalfPath = document.getElementById("majorHalfPath");  
    const summaryBodyEl = document.getElementById("summaryBody");  
  
    function openMajorModal() {  
        majorCheckboxes.forEach(cb => {  
            cb.checked = majorSubjects.includes(cb.value);  
        });  
        majorModal.style.display = "block";  
    }  
  
    function closeMajorModal() {  
        majorModal.style.display = "none";  
    }  
  
    function updateAttendanceSummary(overallPercent, majorPercent, majorsCount) {  
        const lines = [];  
        lines.push(`Overall attendance is ${overallPercent}% for this period.`);  
  
        if (majorsCount === 0) {  
            lines.push("Major subjects are not selected yet. Choose majors to track their combined attendance.");  
        } else if (majorPercent < 75) {  
            lines.push(`Major subjects are at ${majorPercent}%, which is below the 75% safety threshold.`);  
        } else {  
            lines.push(`Major subjects are at ${majorPercent}%, which is above the 75% safety threshold.`);  
        }  
  
        summaryBodyEl.innerHTML = "<ul>" + lines.map(l => `<li>${l}</li>`).join("") + "</ul>";  
    }  
  
    function updateMajorCard() {  
        const overallPercent = 75;  
  
        if (majorSubjects.length === 0) {  
            majorPercentEl.textContent = "0%";  
            majorFooterEl.textContent = "Select major, click pencil button";  
            majorHalfPath.style.strokeDashoffset = 100;  
            updateAttendanceSummary(overallPercent, 0, 0);  
            return;  
        }  
  
        let totalAttended = 0;  
        let totalClasses = 0;  
  
        majorSubjects.forEach(name => {  
            const data = subjectsData[name];  
            if (data) {  
                totalAttended += data.attended;  
                totalClasses += data.total;  
            }  
        });  
  
        const percent = totalClasses > 0 ? Math.round((totalAttended / totalClasses) * 100) : 0;  
        majorPercentEl.textContent = percent + "%";  
        majorFooterEl.textContent = majorSubjects.length + " subjects combined";  
  
        const offset = 100 - Math.max(0, Math.min(100, percent));  
        majorHalfPath.style.strokeDashoffset = offset;  
  
        updateAttendanceSummary(overallPercent, percent, majorSubjects.length);  
    }  
  
    majorEdit.addEventListener("click", openMajorModal);  
    majorCancel.addEventListener("click", closeMajorModal);  
  
    majorSave.addEventListener("click", () => {  
        const selected = [];  
        majorCheckboxes.forEach(cb => {  
            if (cb.checked) selected.push(cb.value);  
        });  
        majorSubjects = selected;  
        updateMajorCard();  
        closeMajorModal();  
    });  
  
    updateAttendanceSummary(75, 0, 0);  
    updateMajorCard();  
  
    // Run the dynamic font adjustment when the page loads  
    document.querySelectorAll('.card.subject-card .subject-name').forEach(adjustSubjectFont);  
  
    // Optional: Re-run oindow resize if the layout changes significantly  
    window.addEventListener('resize', () => {  
        document.querySelectorAll('.card.subject-card .subject-name').forEach(adjustSubjectFont);  
    });  
</script>
</body>  
</html>
